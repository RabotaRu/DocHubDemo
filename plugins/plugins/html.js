(function(t){(self["webpackChunkdochubcore"]=self["webpackChunkdochubcore"]||[]).push([[493],{1001:(t,e,n)=>{function o(t,e,n,o,s,r,a,i){var c,d="function"===typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=n,d._compiled=!0),o&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=c):s&&(c=i?function(){s.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(d.functional){d._injectStyles=c;var h=d.render;d.render=function(t,e){return c.call(e),h(t,e)}}else{var l=d.beforeCreate;d.beforeCreate=l?[].concat(l,c):[c]}return{exports:t,options:d}}n.d(e,{Z:()=>o})},67743:(e,n,o)=>{var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"space"},[e("h1",[t._v("Пример простого плагина")]),e("h2",[t._v("Параметры передаваемые в плагин:")]),e("table",[e("tr",[e("td",{staticClass:"label"},[t._v("Путь к объекту документа (this.path):")]),e("td",[t._v(t._s(t.path))])]),e("tr",[e("td",[t._v("Профиль документа (this.profile):")]),e("td",[t._v(t._s(t.profile))])]),e("tr",[e("td",[t._v("Переданные параметры (this.params):")]),e("td",[t._v(t._s(t.params))])]),e("tr",[e("td",[t._v("Версия для печати (this.toPrint):")]),e("td",[t._v(t._s(t.toPrint))])])]),e("h2",[t._v("Пример результата запроса к данным архитектуры из плагина")]),t._v(" В кодовой базе: "),e("table",[e("tr",[e("td",{staticClass:"label"},[t._v("Документов")]),e("td",[t._v(t._s(t.dataFromLake.docs)+"шт")])]),e("tr",[e("td",[t._v("Компонентов:")]),e("td",[t._v(t._s(t.dataFromLake.components)+"шт")])]),e("tr",[e("td",[t._v("Контекстов:")]),e("td",[t._v(t._s(t.dataFromLake.contexts)+"шт")])])]),e("h2",[t._v("Пример получения данных из DataSet в плагине")]),t._v(" Обнаружены компоненты уровня L1 по C4 Model: "),e("table",[t._m(0),t._l(t.componentsL1,(function(n){return e("tr",{key:n.id},[e("td",[e("a",{attrs:{href:n.link}},[t._v(t._s(n.id))])]),e("td",[e("a",{attrs:{href:n.link}},[t._v(t._s(n.location))])])])}))],2),e("h2",[t._v("Результат рендеринга файла с HTML кодом:")]),e("div",{staticClass:"html-example",domProps:{innerHTML:t._s(t.content)}}),e("h2",[t._v("Встроенный документ DocHub")]),e("dochub-object",{attrs:{src:"@document/dochub.example.swgr"}})],1)},r=[function(){var t=this,e=t._self._c;return e("tr",[e("th",{staticStyle:{width:"20%"}},[t._v("ID")]),e("th",{staticStyle:{width:"40%"}},[t._v("Наименование")])])}],a={name:"HTMLDocument",props:{profile:{type:Object,required:!0},getContent:{type:Function,required:!0},pullData:{type:Function,required:!0},path:{type:String,required:!0},params:{type:Object,default:null},toPrint:{type:Boolean,default:!1}},data(){return{refresher:null,content:"",dataFromLake:{},componentsL1:[]}},watch:{profile(){this.onRefresh()}},mounted(){this.onRefresh()},methods:{doRefresh(){this.profile?this.getContent(this.profile.source).then((t=>{this.content=t.data})).catch((t=>{this.content=`<div style="color:#fff; background-color: #f00">Ошибка выполнения запроса [${this.profile.source}]: <br> ${t}</div>`})):this.content="",this.pullData('\n          ({\n            "docs": $count(docs.*),\n            "components": $count(components.*),\n            "contexts": $count(contexts.*)\n          })\n        ').then((t=>this.dataFromLake=t)),this.pullData("dochub.plugins.example").then((t=>this.componentsL1=t))},onRefresh(){this.refresher&&clearTimeout(this.refresher),this.refresher=setTimeout(this.doRefresh,50)}}},i=a,c=o(1001),d=(0,c.Z)(i,s,r,!1,null,"2651fd13",null),h=d.exports;t.documents.register("html",h)}},t=>{var e=e=>t(t.s=e);e(67743)}])})(window.DocHub);
//# sourceMappingURL=html.js.map